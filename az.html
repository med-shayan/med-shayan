<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>A–Z Übersicht – Medizinisches Lexikon</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Sprachumschalter -->
<div class="lang-switch">
  <button onclick="setLang('de')">Deutsch</button>
  <button onclick="setLang('fa')">فارسی</button>
</div>

<!-- TITEL -->
<h1 class="lang de">A–Z Übersicht</h1>
<h1 class="lang fa" dir="rtl">فهرست الفبایی</h1>

<p class="lang de">Alle medizinischen Fachbegriffe alphabetisch sortiert.</p>
<p class="lang fa" dir="rtl">تمام اصطلاحات پزشکی به ترتیب حروف الفبا.</p>

<!-- LISTE -->
<div id="az-liste"></div>

<!-- ZURÜCK -->
<p class="lang de"><a href="index.html">← Zurück zur Startseite</a></p>
<p class="lang fa" dir="rtl"><a href="index.html">← بازگشت به صفحه اصلی</a></p>

<!-- SCRIPTS -->
<script src="begriffe.js"></script>

<script>
function setLang(lang) {
  document.querySelectorAll('.lang').forEach(el => {
    el.style.display = 'none';
  });
  document.querySelectorAll('.' + lang).forEach(el => {
    el.style.display = 'block';
  });
  renderAZ(lang);
}

function renderAZ(lang) {
  const container = document.getElementById("az-liste");
  container.innerHTML = "";

  // nach deutscher Bezeichnung sortieren
  const sorted = [...begriffe].sort((a, b) =>
    a.name_de.localeCompare(b.name_de, "de")
  );

  let currentLetter = "";

  sorted.forEach(b => {
    const name = lang === "fa" ? b.name_fa : b.name_de;
    if (!name) return;

    const letter = name.charAt(0).toUpperCase();

    if (letter !== currentLetter) {
      currentLetter = letter;
      const h2 = document.createElement("h2");
      h2.textContent = letter;
      container.appendChild(h2);
    }

    const p = document.createElement("p");
    p.innerHTML = `<a href="${b.file}">${name}</a>`;
    container.appendChild(p);
  });
}

// Standard: Deutsch
setLang('de');
</script>

</body>
</html>
