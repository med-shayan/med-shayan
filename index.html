<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Medizinisches Lexikon</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="header"></div>

<!-- TITEL -->
<h1 class="lang de">Medizinisches Lexikon</h1>
<h1 class="lang fa" dir="rtl">ÙˆØ§Ú˜Ù‡â€ŒÙ†Ø§Ù…Ù‡ Ù¾Ø²Ø´Ú©ÛŒ</h1>

<!-- BESCHREIBUNG -->
<p class="lang de">
  Diese Webseite bietet kurze, verstÃ¤ndliche ErklÃ¤rungen medizinischer Fachbegriffe
  fÃ¼r MFA, PflegekrÃ¤fte und medizinisch Interessierte.
</p>

<p class="lang fa" dir="rtl">
  Ø§ÛŒÙ† ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ø´Ø§Ù…Ù„ ØªÙˆØ¶ÛŒØ­Ø§Øª Ú©ÙˆØªØ§Ù‡ Ùˆ Ù‚Ø§Ø¨Ù„ ÙÙ‡Ù… Ø§ØµØ·Ù„Ø§Ø­Ø§Øª Ù¾Ø²Ø´Ú©ÛŒ
  Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªÛŒØ§Ø±Ø§Ù† Ù¾Ø²Ø´Ú©ÛŒØŒ Ù¾Ø±Ø³ØªØ§Ø±Ø§Ù† Ùˆ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯Ø§Ù† Ø¨Ù‡ Ù¾Ø²Ø´Ú©ÛŒ Ø§Ø³Øª.
</p>

<!-- SUCHE -->
<div class="section">
  <h3 class="lang de">Begriff suchen</h3>
  <h3 class="lang fa" dir="rtl">Ø¬Ø³ØªØ¬ÙˆÛŒ Ø§ØµØ·Ù„Ø§Ø­</h3>

  <input
    type="text"
    id="search"
    placeholder=""
    style="width:100%; padding:10px; font-size:1em;"
  >

  <div id="search-results" style="margin-top:15px;"></div>
</div>

<!-- KATEGORIEN -->
<div class="section" id="kategorien">
  <h3 class="lang de">Kategorien</h3>
  <h3 class="lang fa" dir="rtl">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</h3>

  <ul id="kategorien-liste"></ul>
</div>

<!-- Aâ€“Z -->
<div class="section lang de">
  <h3>Ãœbersicht</h3>
  <ul>
    <li><a href="az.html">Aâ€“Z Ãœbersicht aller Fachbegriffe</a></li>
  </ul>
</div>

<div class="section lang fa" dir="rtl">
  <h3>ÙÙ‡Ø±Ø³Øª</h3>
  <ul>
    <li><a href="az.html">ÙÙ‡Ø±Ø³Øª Ø§Ù„ÙØ¨Ø§ÛŒÛŒ Ø§ØµØ·Ù„Ø§Ø­Ø§Øª Ù¾Ø²Ø´Ú©ÛŒ</a></li>
  </ul>
</div>

<!-- AUTOR -->
<p class="lang de"><strong>von Shayan Daneshkhah</strong></p>
<p class="lang fa" dir="rtl"><strong>ØªÙ‡ÛŒÙ‡â€ŒØ´Ø¯Ù‡ ØªÙˆØ³Ø· Ø´Ø§ÛŒØ§Ù† Ø¯Ø§Ù†Ø´ Ø®ÙˆØ§Ù‡</strong></p>


<!-- SCRIPTS -->
<script src="begriffe.js"></script>
<script src="search.js"></script>

<script>
function renderKategorien(lang) {
  const ul = document.getElementById("kategorien-liste");
  if (!ul || typeof kategorien === "undefined") return;

  ul.innerHTML = "";

  Object.keys(kategorien).forEach(key => {
    const li = document.createElement("li");
    const name = kategorien[key][lang];
    li.innerHTML = `<a href="kategorie.html?cat=${key}">${name}</a>`;
    ul.appendChild(li);
  });
}

function setLang(lang) {
  // Sprache speichern
  localStorage.setItem("lang", lang);

  // Texte umschalten
  document.querySelectorAll('.lang').forEach(el => {
    el.style.display = 'none';
  });
  document.querySelectorAll('.' + lang).forEach(el => {
    el.style.display = 'block';
  });

  // Placeholder Suche
  const searchInput = document.getElementById("search");
  if (searchInput) {
    searchInput.placeholder =
      lang === "fa"
        ? "Ø§ØµØ·Ù„Ø§Ø­ Ù¾Ø²Ø´Ú©ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯"
        : "Medizinischen Fachbegriff eingeben";
  }

  // Suche informieren
  if (typeof setSearchLang === "function") {
    setSearchLang(lang);
  }

  // Kategorien anzeigen
  renderKategorien(lang);
}

// Beim Laden: gespeicherte Sprache verwenden
const savedLang = localStorage.getItem("lang") || "de";
setLang(savedLang);
</script>

<script>
fetch("header.html")
  .then(res => res.text())
  .then(html => {
    const header = document.getElementById("header");
    header.innerHTML = html;

    // ğŸ”’ Sprache SOFORT korrekt setzen
    const lang = localStorage.getItem("lang") || "de";

    header.querySelectorAll('.lang').forEach(el => {
      el.style.display = 'none';
    });
    header.querySelectorAll('.' + lang).forEach(el => {
      el.style.display = 'block';
    });
  });
</script>

<script>
fetch("footer.html")
  .then(response => response.text())
  .then(data => {
    document.getElementById("footer").innerHTML = data;

    // Sprache nachladen (wichtig!)
    const lang = localStorage.getItem("lang") || "de";
    document.querySelectorAll('#footer .lang').forEach(el => {
      el.style.display = 'none';
    });
    document.querySelectorAll('#footer .' + lang).forEach(el => {
      el.style.display = 'block';
    });
  });
</script>
<div id="footer"></div>
</body>
</html>
